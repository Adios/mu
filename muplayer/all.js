/* Modernizr 2.8.3 (Custom Build) | MIT & BSD
 * Build: http://modernizr.com/download/#-csstransforms-testprop-testallprops-domprefixes
 */
;window.Modernizr=function(a,b,c){function w(a){i.cssText=a}function x(a,b){return w(prefixes.join(a+";")+(b||""))}function y(a,b){return typeof a===b}function z(a,b){return!!~(""+a).indexOf(b)}function A(a,b){for(var d in a){var e=a[d];if(!z(e,"-")&&i[e]!==c)return b=="pfx"?e:!0}return!1}function B(a,b,d){for(var e in a){var f=b[a[e]];if(f!==c)return d===!1?a[e]:y(f,"function")?f.bind(d||b):f}return!1}function C(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+m.join(d+" ")+d).split(" ");return y(b,"string")||y(b,"undefined")?A(e,b):(e=(a+" "+n.join(d+" ")+d).split(" "),B(e,b,c))}var d="2.8.3",e={},f=b.documentElement,g="modernizr",h=b.createElement(g),i=h.style,j,k={}.toString,l="Webkit Moz O ms",m=l.split(" "),n=l.toLowerCase().split(" "),o={},p={},q={},r=[],s=r.slice,t,u={}.hasOwnProperty,v;!y(u,"undefined")&&!y(u.call,"undefined")?v=function(a,b){return u.call(a,b)}:v=function(a,b){return b in a&&y(a.constructor.prototype[b],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(b){var c=this;if(typeof c!="function")throw new TypeError;var d=s.call(arguments,1),e=function(){if(this instanceof e){var a=function(){};a.prototype=c.prototype;var f=new a,g=c.apply(f,d.concat(s.call(arguments)));return Object(g)===g?g:f}return c.apply(b,d.concat(s.call(arguments)))};return e}),o.csstransforms=function(){return!!C("transform")};for(var D in o)v(o,D)&&(t=D.toLowerCase(),e[t]=o[D](),r.push((e[t]?"":"no-")+t));return e.addTest=function(a,b){if(typeof a=="object")for(var d in a)v(a,d)&&e.addTest(d,a[d]);else{a=a.toLowerCase();if(e[a]!==c)return e;b=typeof b=="function"?b():b,typeof enableClasses!="undefined"&&enableClasses&&(f.className+=" "+(b?"":"no-")+a),e[a]=b}return e},w(""),h=j=null,e._version=d,e._domPrefixes=n,e._cssomPrefixes=m,e.testProp=function(a){return A([a])},e.testAllProps=C,e}(this,this.document);
// https://github.com/jussi-kalliokoski/jQuery.grab 2012.08.06
(function($){var extend=$.extend,mousedown='mousedown',mousemove='mousemove',mouseup='mouseup',touchstart='touchstart',touchmove='touchmove',touchend='touchend',touchcancel='touchcancel';function unbind(elem,type,func){if(type.substr(0,5)!=='touch'){return $(elem).unbind(type,func);}
var fnc,i;for(i=0;i<bind._binds.length;i++){if(bind._binds[i].elem===elem&&bind._binds[i].type===type&&bind._binds[i].func===func){if(document.addEventListener){elem.removeEventListener(type,bind._binds[i].fnc,false);}else{elem.detachEvent('on'+type,bind._binds[i].fnc);}
bind._binds.splice(i--,1);}}}
function bind(elem,type,func,pass){if(type.substr(0,5)!=='touch'){return $(elem).bind(type,pass,func);}
var fnc,i;if(bind[type]){return bind[type].bind(elem,type,func,pass);}
fnc=function(e){if(!e){e=window.event;}
if(!e.stopPropagation){e.stopPropagation=function(){this.cancelBubble=true;};}
e.data=pass;func.call(elem,e);};if(document.addEventListener){elem.addEventListener(type,fnc,false);}else{elem.attachEvent('on'+type,fnc);}
bind._binds.push({elem:elem,type:type,func:func,fnc:fnc});}
function grab(elem,options)
{var data={move:{x:0,y:0},offset:{x:0,y:0},position:{x:0,y:0},start:{x:0,y:0},affects:document.documentElement,stopPropagation:false,preventDefault:true,touch:true};extend(data,options);data.element=elem;bind(elem,mousedown,mouseDown,data);if(data.touch){bind(elem,touchstart,touchStart,data);}}
function ungrab(elem){unbind(elem,mousedown,mousedown);}
function mouseDown(e){e.data.position.x=e.pageX;e.data.position.y=e.pageY;e.data.start.x=e.pageX;e.data.start.y=e.pageY;e.data.event=e;if(e.data.onstart&&e.data.onstart.call(e.data.element,e.data)){return;}
if(e.preventDefault&&e.data.preventDefault){e.preventDefault();}
if(e.stopPropagation&&e.data.stopPropagation){e.stopPropagation();}
bind(e.data.affects,mousemove,mouseMove,e.data);bind(e.data.affects,mouseup,mouseUp,e.data);}
function mouseMove(e){if(e.preventDefault&&e.data.preventDefault){e.preventDefault();}
if(e.stopPropagation&&e.data.preventDefault){e.stopPropagation();}
e.data.move.x=e.pageX-e.data.position.x;e.data.move.y=e.pageY-e.data.position.y;e.data.position.x=e.pageX;e.data.position.y=e.pageY;e.data.offset.x=e.pageX-e.data.start.x;e.data.offset.y=e.pageY-e.data.start.y;e.data.event=e;if(e.data.onmove){e.data.onmove.call(e.data.element,e.data);}}
function mouseUp(e){if(e.preventDefault&&e.data.preventDefault){e.preventDefault();}
if(e.stopPropagation&&e.data.stopPropagation){e.stopPropagation();}
unbind(e.data.affects,mousemove,mouseMove);unbind(e.data.affects,mouseup,mouseUp);e.data.event=e;if(e.data.onfinish){e.data.onfinish.call(e.data.element,e.data);}}
function touchStart(e){e.data.position.x=e.touches[0].pageX;e.data.position.y=e.touches[0].pageY;e.data.start.x=e.touches[0].pageX;e.data.start.y=e.touches[0].pageY;e.data.event=e;if(e.data.onstart&&e.data.onstart.call(e.data.element,e.data)){return;}
if(e.preventDefault&&e.data.preventDefault){e.preventDefault();}
if(e.stopPropagation&&e.data.stopPropagation){e.stopPropagation();}
bind(e.data.affects,touchmove,touchMove,e.data);bind(e.data.affects,touchend,touchEnd,e.data);}
function touchMove(e){if(e.preventDefault&&e.data.preventDefault){e.preventDefault();}
if(e.stopPropagation&&e.data.stopPropagation){e.stopPropagation();}
e.data.move.x=e.touches[0].pageX-e.data.position.x;e.data.move.y=e.touches[0].pageY-e.data.position.y;e.data.position.x=e.touches[0].pageX;e.data.position.y=e.touches[0].pageY;e.data.offset.x=e.touches[0].pageX-e.data.start.x;e.data.offset.y=e.touches[0].pageY-e.data.start.y;e.data.event=e;if(e.data.onmove){e.data.onmove.call(e.data.elem,e.data);}}
function touchEnd(e){if(e.preventDefault&&e.data.preventDefault){e.preventDefault();}
if(e.stopPropagation&&e.data.stopPropagation){e.stopPropagation();}
unbind(e.data.affects,touchmove,touchMove);unbind(e.data.affects,touchend,touchEnd);e.data.event=e;if(e.data.onfinish){e.data.onfinish.call(e.data.element,e.data);}}
bind._binds=[];$.fn.grab=function(a,b){return this.each(function(){return grab(this,a,b);});};$.fn.ungrab=function(a){return this.each(function(){return ungrab(this,a);});};})(jQuery);
// https://github.com/louisremi/jquery.transform.js e195b9a7118
(function(e,t,n,r,i){function T(t){t=t.split(")");var n=e.trim,i=-1,s=t.length-1,o,u,a,f=h?new Float32Array(6):[],l=h?new Float32Array(6):[],c=h?new Float32Array(6):[1,0,0,1,0,0];f[0]=f[3]=c[0]=c[3]=1;f[1]=f[2]=f[4]=f[5]=0;while(++i<s){o=t[i].split("(");u=n(o[0]);a=o[1];l[0]=l[3]=1;l[1]=l[2]=l[4]=l[5]=0;switch(u){case b+"X":l[4]=parseInt(a,10);break;case b+"Y":l[5]=parseInt(a,10);break;case b:a=a.split(",");l[4]=parseInt(a[0],10);l[5]=parseInt(a[1]||0,10);break;case w:a=M(a);l[0]=r.cos(a);l[1]=r.sin(a);l[2]=-r.sin(a);l[3]=r.cos(a);break;case E+"X":l[0]=+a;break;case E+"Y":l[3]=a;break;case E:a=a.split(",");l[0]=a[0];l[3]=a.length>1?a[1]:a[0];break;case S+"X":l[2]=r.tan(M(a));break;case S+"Y":l[1]=r.tan(M(a));break;case x:a=a.split(",");l[0]=a[0];l[1]=a[1];l[2]=a[2];l[3]=a[3];l[4]=parseInt(a[4],10);l[5]=parseInt(a[5],10);break}c[0]=f[0]*l[0]+f[2]*l[1];c[1]=f[1]*l[0]+f[3]*l[1];c[2]=f[0]*l[2]+f[2]*l[3];c[3]=f[1]*l[2]+f[3]*l[3];c[4]=f[0]*l[4]+f[2]*l[5]+f[4];c[5]=f[1]*l[4]+f[3]*l[5]+f[5];f=[c[0],c[1],c[2],c[3],c[4],c[5]]}return c}function N(e){var t,n,i,s=e[0],o=e[1],u=e[2],a=e[3];if(s*a-o*u){t=r.sqrt(s*s+o*o);s/=t;o/=t;i=s*u+o*a;u-=s*i;a-=o*i;n=r.sqrt(u*u+a*a);u/=n;a/=n;i/=n;if(s*a<o*u){s=-s;o=-o;i=-i;t=-t}}else{t=n=i=0}return[[b,[+e[4],+e[5]]],[w,r.atan2(o,s)],[S+"X",r.atan(i)],[E,[t,n]]]}function C(t,n){var r={start:[],end:[]},i=-1,s,o,u,a;(t=="none"||L(t))&&(t="");(n=="none"||L(n))&&(n="");if(t&&n&&!n.indexOf("matrix")&&_(t).join()==_(n.split(")")[0]).join()){r.origin=t;t="";n=n.slice(n.indexOf(")")+1)}if(!t&&!n){return}if(!t||!n||A(t)==A(n)){t&&(t=t.split(")"))&&(s=t.length);n&&(n=n.split(")"))&&(s=n.length);while(++i<s-1){t[i]&&(o=t[i].split("("));n[i]&&(u=n[i].split("("));a=e.trim((o||u)[0]);O(r.start,k(a,o?o[1]:0));O(r.end,k(a,u?u[1]:0))}}else{r.start=N(T(t));r.end=N(T(n))}return r}function k(e,t){var n=+!e.indexOf(E),r,i=e.replace(/e[XY]/,"e");switch(e){case b+"Y":case E+"Y":t=[n,t?parseFloat(t):n];break;case b+"X":case b:case E+"X":r=1;case E:t=t?(t=t.split(","))&&[parseFloat(t[0]),parseFloat(t.length>1?t[1]:e==E?r||t[0]:n+"")]:[n,n];break;case S+"X":case S+"Y":case w:t=t?M(t):0;break;case x:return N(t?_(t):[1,0,0,1,0,0]);break}return[[i,t]]}function L(e){return m.test(e)}function A(e){return e.replace(/(?:\([^)]*\))|\s/g,"")}function O(e,t,n){while(n=t.shift()){e.push(n)}}function M(e){return~e.indexOf("deg")?parseInt(e,10)*(r.PI*2/360):~e.indexOf("grad")?parseInt(e,10)*(r.PI/200):parseFloat(e)}function _(e){e=/([^,]*),([^,]*),([^,]*),([^,]*),([^,p]*)(?:px)?,([^)p]*)(?:px)?/.exec(e);return[e[1],e[2],e[3],e[4],e[5],e[6]]}var s=n.createElement("div"),o=s.style,u="Transform",a=["O"+u,"ms"+u,"Webkit"+u,"Moz"+u],f=a.length,l,c,h="Float32Array"in t,p,d,v=/Matrix([^)]*)/,m=/^\s*matrix\(\s*1\s*,\s*0\s*,\s*0\s*,\s*1\s*(?:,\s*0(?:px)?\s*){2}\)\s*$/,g="transform",y="transformOrigin",b="translate",w="rotate",E="scale",S="skew",x="matrix";while(f--){if(a[f]in o){e.support[g]=l=a[f];e.support[y]=l+"Origin";continue}}if(!l){e.support.matrixFilter=c=o.filter===""}e.cssNumber[g]=e.cssNumber[y]=true;if(l&&l!=g){e.cssProps[g]=l;e.cssProps[y]=l+"Origin";if(l=="Moz"+u){p={get:function(t,n){return n?e.css(t,l).split("px").join(""):t.style[l]},set:function(e,t){e.style[l]=/matrix\([^)p]*\)/.test(t)?t.replace(/matrix((?:[^,]*,){4})([^,]*),([^)]*)/,x+"$1$2px,$3px"):t}}}else if(/^1\.[0-5](?:\.|$)/.test(e.fn.jquery)){p={get:function(t,n){return n?e.css(t,l.replace(/^ms/,"Ms")):t.style[l]}}}}else if(c){p={get:function(t,n,r){var s=n&&t.currentStyle?t.currentStyle:t.style,o,u;if(s&&v.test(s.filter)){o=RegExp.$1.split(",");o=[o[0].split("=")[1],o[2].split("=")[1],o[1].split("=")[1],o[3].split("=")[1]]}else{o=[1,0,0,1]}if(!e.cssHooks[y]){o[4]=s?parseInt(s.left,10)||0:0;o[5]=s?parseInt(s.top,10)||0:0}else{u=e._data(t,"transformTranslate",i);o[4]=u?u[0]:0;o[5]=u?u[1]:0}return r?o:x+"("+o+")"},set:function(t,n,r){var i=t.style,s,o,u,a;if(!r){i.zoom=1}n=T(n);o=["Matrix("+"M11="+n[0],"M12="+n[2],"M21="+n[1],"M22="+n[3],"SizingMethod='auto expand'"].join();u=(s=t.currentStyle)&&s.filter||i.filter||"";i.filter=v.test(u)?u.replace(v,o):u+" progid:DXImageTransform.Microsoft."+o+")";if(!e.cssHooks[y]){if(a=e.transform.centerOrigin){i[a=="margin"?"marginLeft":"left"]=-(t.offsetWidth/2)+t.clientWidth/2+"px";i[a=="margin"?"marginTop":"top"]=-(t.offsetHeight/2)+t.clientHeight/2+"px"}i.left=n[4]+"px";i.top=n[5]+"px"}else{e.cssHooks[y].set(t,n)}}}}if(p){e.cssHooks[g]=p}d=p&&p.get||e.css;e.fx.step.transform=function(t){var n=t.elem,i=t.start,s=t.end,o=t.pos,u="",a=1e5,f,h,v,m;if(!i||typeof i==="string"){if(!i){i=d(n,l)}if(c){n.style.zoom=1}s=s.split("+=").join(i);e.extend(t,C(i,s));i=t.start;s=t.end}f=i.length;while(f--){h=i[f];v=s[f];m=+false;switch(h[0]){case b:m="px";case E:m||(m="");u=h[0]+"("+r.round((h[1][0]+(v[1][0]-h[1][0])*o)*a)/a+m+","+r.round((h[1][1]+(v[1][1]-h[1][1])*o)*a)/a+m+")"+u;break;case S+"X":case S+"Y":case w:u=h[0]+"("+r.round((h[1]+(v[1]-h[1])*o)*a)/a+"rad)"+u;break}}t.origin&&(u=t.origin+u);p&&p.set?p.set(n,u,+true):n.style[l]=u};e.transform={centerOrigin:"margin"}})(jQuery,window,document,Math)
// https://github.com/Adios/circleplayer
var CirclePlayer=function(jPlayerSelector,media,options){var self=this,defaults={volume:0.6,supplied:"m4a, oga",cssSelectorAncestor:"#cp_container_1",cssSelector:{play:".cp-play",pause:".cp-pause"}},cssSelector={progressHolder:".cp-progress-holder",progress1:".cp-progress-1",progress2:".cp-progress-2",circleControl:".cp-circle-control"};this.cssClass={gt50:"cp-gt50",fallback:"cp-fallback"};this.spritePitch=104;this.spriteRatio=0.24;this.player=$(jPlayerSelector);this.media=$.extend({},media);this.options=$.extend(true,{},defaults,options);this.cssTransforms=Modernizr.csstransforms;this.audio={};this.eventNamespace=".CirclePlayer";this.jq={};$.each(cssSelector,function(entity,cssSel){self.jq[entity]=$(self.options.cssSelectorAncestor+" "+cssSel);});this._initSolution();this._initPlayer();};CirclePlayer.prototype={_createHtml:function(){},_initPlayer:function(){var self=this;this.player.jPlayer(this.options);this.player.bind($.jPlayer.event.volumechange+this.eventNamespace,function(event){self._volumeupdate(event.jPlayer.options.volume*100);});this.player.bind($.jPlayer.event.ready+this.eventNamespace,function(event){if(event.jPlayer.html.used&&event.jPlayer.html.audio.available){self.audio=$(this).data("jPlayer").htmlElement.audio;}
$(this).jPlayer("setMedia",self.media);self._initCircleControl();self.player.jPlayer('volume',0.1);self.player.jPlayer('volume',self.options.volume);});this.player.bind($.jPlayer.event.play+this.eventNamespace,function(event){$(this).jPlayer("pauseOthers");});},_initSolution:function(){if(this.cssTransforms){this.jq.progressHolder.show().removeClass(this.cssClass.gt50);this.jq.progress1.css({'transform':'rotate(0deg)'});this.jq.progress2.css({'transform':'rotate(0deg)'}).hide();}
else{this.jq.progressHolder.addClass(this.cssClass.gt50).show();this.jq.progress1.addClass(this.cssClass.fallback).progress1.css('background-position','0 '+this.spritePitch+'px');this.jq.progress2.hide();}},_initCircleControl:function(){var self=this;this.jq.circleControl.grab({onmove:function(event){var pc=self._getArcPercent(event.position.x,event.position.y);self.player.jPlayer('volume',Math.round(pc)/100);}});},_volumeupdate:function(percent){var degs=percent*3.6+"deg";var spriteOffset=(Math.floor((Math.round(percent))*this.spriteRatio)-1)*-this.spritePitch;if(percent<=50){if(this.cssTransforms){this.jq.progressHolder.removeClass(this.cssClass.gt50);this.jq.progress1.css({'transform':'rotate('+degs+')'});this.jq.progress2.hide();}else{this.jq.progress1.css('background-position','0 '+spriteOffset+'px');}}else if(percent<=100){if(this.cssTransforms){this.jq.progressHolder.addClass(this.cssClass.gt50);this.jq.progress1.css({'transform':'rotate(180deg)'});this.jq.progress2.css({'transform':'rotate('+degs+')'});this.jq.progress2.show();}else{this.jq.progress1.css('background-position','0 '+spriteOffset+'px');}}},_getArcPercent:function(pageX,pageY){var offset=this.jq.circleControl.offset(),x=pageX-offset.left-this.jq.circleControl.width()/2,y=pageY-offset.top-this.jq.circleControl.height()/2,theta=Math.atan2(y,x);if(theta>-1*Math.PI&&theta<-0.5*Math.PI){theta=2*Math.PI+theta;}
return(theta+Math.PI/2)/2*Math.PI*10;},setMedia:function(media){this.media=$.extend({},media);this.player.jPlayer("setMedia",this.media);},play:function(time){this.player.jPlayer("play",time);},pause:function(time){this.player.jPlayer("pause",time);},destroy:function(){this.player.unbind(this.eventNamespace);this.player.jPlayer("destroy");}};
